



<launch>
<param name="/use_sim_time" value="true" />

<group>
  <env name="ROS_MASTER_URI" value="http://localhost:11311" />

  <node name="playbag_1" pkg="rosbag" type="play"
      args="-r 5 --clock $(env HOME)/Downloads/cartographer_freight_demo.bag" />
<!--
  <node name="cartographer_node_1" pkg="cartographer_ros"
      type="cartographer_node" args="
          -configuration_directory $(find cartographer_fetch)/configuration_files
          -configuration_basename freight_simulation.lua"
      output="screen">
    <remap from="scan" to="base_scan" />
  </node>
-->
  <node name="cartographer_grpc_bridge_1" pkg="cartographer_ros"
      type="cartographer_grpc_node" args="
          -configuration_directory $(find cartographer_fetch)/configuration_files
          -configuration_basename freight_simulation.lua"
      output="screen">
    <remap from="scan" to="base_scan" />
  </node>
  <node name="cartographer_grpc_server_1" pkg="cartographer_ros"
      type="cartographer_grpc_server.sh" args="
          -configuration_directory $(find cartographer_fetch)/configuration_files
          -configuration_basename freight_simulation_robot_server_1.lua">
  </node>
  <node name="rviz_1" pkg="rviz" type="rviz" required="true"
      args="-d $(find cartographer_fetch)/configuration_files/demo.rviz" />
</group>

<group>
  <env name="ROS_MASTER_URI" value="http://localhost:11312" />

</group>
</launch>


